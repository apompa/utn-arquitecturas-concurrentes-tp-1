<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>
      <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <h1 class="title">Alumno</h1>
    <ul id="messages"></ul>
    <form action="">
      <input id="m" autocomplete="off" />
      <button>Send</button>
    </form>
    <script src="socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
      (function(){
        var socket = io("127.0.0.1:2000");
        var $messages = $('#messages');
        var questions = ['¿Pasamos el parcial?', '¿Zafo del final?', '¿Hay un solo TP?', '¿Se promociona?', '¿Hay recreo?'];
        
        setInterval(function(){
          socket.emit('student question', questions[Math.floor(Math.random() * 5)]);
        }, 5000);
        
         var onMessage = function(msg){
          $messages.append($('<li>').text(msg));
          $("html, body").scrollTop($messages.get(0).scrollHeight);
        };  
        
        socket.on('student question', onMessage);
        socket.on('teacher answer', onMessage);
        
        })();
    </script>
  </body>
</html>